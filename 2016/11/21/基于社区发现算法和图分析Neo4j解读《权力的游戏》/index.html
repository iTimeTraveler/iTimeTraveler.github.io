<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>åŸºäºç¤¾åŒºå‘ç°ç®—æ³•å’Œå›¾åˆ†æneo4jè§£è¯»ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ | iTimeTraveler</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
    <meta name="keywords" content="Neo4j" />
  
  
  
  
  <meta name="description" content="å¯¼è¯»å‡ ä¸ªæœˆå‰ï¼Œæ•°å­¦å®¶ Andrew Beveridge å’ŒJie Shanåœ¨æ•°å­¦æ‚å¿—ä¸Šå‘è¡¨ã€ŠæƒåŠ›çš„ç½‘ç»œã€‹ï¼Œä¸»è¦åˆ†æç•…é”€å°è¯´ã€Šå†°ä¸ç«ä¹‹æ­Œã€‹ç¬¬ä¸‰éƒ¨ã€Šå†°é›¨çš„é£æš´ã€‹ä¸­äººç‰©å…³ç³»ï¼Œå…¶å·²ç»æ‹æˆç”µè§†å‰§ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ç³»åˆ—ã€‚ä»–ä»¬åœ¨è®ºæ–‡ä¸­ä»‹ç»äº†å¦‚ä½•é€šè¿‡æ–‡æœ¬åˆ†æå’Œå®ä½“æå–æ„å»ºäººç‰©å…³ç³»çš„ç½‘ç»œã€‚ç´§æ¥ç€ï¼Œä½¿ç”¨ç¤¾äº¤ç½‘ç»œåˆ†æç®—æ³•å¯¹äººç‰©å…³ç³»ç½‘ç»œåˆ†ææ‰¾å‡ºæœ€é‡è¦çš„è§’è‰²ï¼›åº”ç”¨ç¤¾åŒºå‘ç°ç®—æ³•æ¥æ‰¾åˆ°äººç‰©èšç±»ã€‚ å…¶ä¸­çš„åˆ†æå’Œå¯è§†åŒ–æ˜¯ç”¨Gephiåš">
<meta name="keywords" content="Neo4j">
<meta property="og:type" content="article">
<meta property="og:title" content="åŸºäºç¤¾åŒºå‘ç°ç®—æ³•å’Œå›¾åˆ†æNeo4jè§£è¯»ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹">
<meta property="og:url" content="http://github.com/2016/11/21/åŸºäºç¤¾åŒºå‘ç°ç®—æ³•å’Œå›¾åˆ†æNeo4jè§£è¯»ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹/index.html">
<meta property="og:site_name" content="iTimeTraveler">
<meta property="og:description" content="å¯¼è¯»å‡ ä¸ªæœˆå‰ï¼Œæ•°å­¦å®¶ Andrew Beveridge å’ŒJie Shanåœ¨æ•°å­¦æ‚å¿—ä¸Šå‘è¡¨ã€ŠæƒåŠ›çš„ç½‘ç»œã€‹ï¼Œä¸»è¦åˆ†æç•…é”€å°è¯´ã€Šå†°ä¸ç«ä¹‹æ­Œã€‹ç¬¬ä¸‰éƒ¨ã€Šå†°é›¨çš„é£æš´ã€‹ä¸­äººç‰©å…³ç³»ï¼Œå…¶å·²ç»æ‹æˆç”µè§†å‰§ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ç³»åˆ—ã€‚ä»–ä»¬åœ¨è®ºæ–‡ä¸­ä»‹ç»äº†å¦‚ä½•é€šè¿‡æ–‡æœ¬åˆ†æå’Œå®ä½“æå–æ„å»ºäººç‰©å…³ç³»çš„ç½‘ç»œã€‚ç´§æ¥ç€ï¼Œä½¿ç”¨ç¤¾äº¤ç½‘ç»œåˆ†æç®—æ³•å¯¹äººç‰©å…³ç³»ç½‘ç»œåˆ†ææ‰¾å‡ºæœ€é‡è¦çš„è§’è‰²ï¼›åº”ç”¨ç¤¾åŒºå‘ç°ç®—æ³•æ¥æ‰¾åˆ°äººç‰©èšç±»ã€‚ å…¶ä¸­çš„åˆ†æå’Œå¯è§†åŒ–æ˜¯ç”¨Gephiåš">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://github.com/gallery/Game-of-Thrones.jpg">
<meta property="og:updated_time" content="2018-03-14T08:13:59.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="åŸºäºç¤¾åŒºå‘ç°ç®—æ³•å’Œå›¾åˆ†æNeo4jè§£è¯»ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹">
<meta name="twitter:description" content="å¯¼è¯»å‡ ä¸ªæœˆå‰ï¼Œæ•°å­¦å®¶ Andrew Beveridge å’ŒJie Shanåœ¨æ•°å­¦æ‚å¿—ä¸Šå‘è¡¨ã€ŠæƒåŠ›çš„ç½‘ç»œã€‹ï¼Œä¸»è¦åˆ†æç•…é”€å°è¯´ã€Šå†°ä¸ç«ä¹‹æ­Œã€‹ç¬¬ä¸‰éƒ¨ã€Šå†°é›¨çš„é£æš´ã€‹ä¸­äººç‰©å…³ç³»ï¼Œå…¶å·²ç»æ‹æˆç”µè§†å‰§ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ç³»åˆ—ã€‚ä»–ä»¬åœ¨è®ºæ–‡ä¸­ä»‹ç»äº†å¦‚ä½•é€šè¿‡æ–‡æœ¬åˆ†æå’Œå®ä½“æå–æ„å»ºäººç‰©å…³ç³»çš„ç½‘ç»œã€‚ç´§æ¥ç€ï¼Œä½¿ç”¨ç¤¾äº¤ç½‘ç»œåˆ†æç®—æ³•å¯¹äººç‰©å…³ç³»ç½‘ç»œåˆ†ææ‰¾å‡ºæœ€é‡è¦çš„è§’è‰²ï¼›åº”ç”¨ç¤¾åŒºå‘ç°ç®—æ³•æ¥æ‰¾åˆ°äººç‰©èšç±»ã€‚ å…¶ä¸­çš„åˆ†æå’Œå¯è§†åŒ–æ˜¯ç”¨Gephiåš">
<meta name="twitter:image" content="http://github.com/gallery/Game-of-Thrones.jpg">
  
    <link rel="alternate" href="/atom.xml" title="iTimeTraveler" type="application/atom+xml">
  

  

  <link rel="icon" href="/gallery/avatar/0.jpg">
  <link rel="apple-touch-icon" href="/gallery/avatar/0.jpg">
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link href="https://fonts.googleapis.com/css?family=Open+Sans|Montserrat:700" rel="stylesheet" type="text/css">
  <link href="https://fonts.googleapis.com/css?family=Roboto:400,300,300italic,400italic" rel="stylesheet" type="text/css">
  <link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">
  <style type="text/css">
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/9749f0/00000000000000000001008f/27/l?subset_id=2&fvd=n5) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/90cf9f/000000000000000000010091/27/l?subset_id=2&fvd=n7) format("woff2");font-weight:500;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/8a5494/000000000000000000013365/27/l?subset_id=2&fvd=n4) format("woff2");font-weight:lighter;font-style:normal;}
    @font-face{font-family:futura-pt;src:url(https://use.typekit.net/af/d337d8/000000000000000000010095/27/l?subset_id=2&fvd=i4) format("woff2");font-weight:400;font-style:italic;}</style>
  <link rel="stylesheet" href="../../../../css/style.css">

  <script src="../../../../js/jquery-3.1.1.min.js"></script>
  <script src="../../../../js/bootstrap.js"></script>

  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="/css/bootstrap.css" >

  
    <link rel="stylesheet" href="../../../../css/dialog.css">
  

  

  
    <link rel="stylesheet" href="/css/header-post.css" >
  

  
  
  
    <link rel="stylesheet" href="/css/vdonate.css" >
  

</head>



  <body data-spy="scroll" data-target="#toc" data-offset="50">


  
  <div id="container">
    <div id="wrap">
      
        <header>

    <div id="allheader" class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="navbar-inner">
          
          <div class="container"> 
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
              <span class="sr-only">Toggle navigation</span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>

            
              <a class="brand" style="
                 border-width: 0px;  margin-top: 8px;"  
                href="#" data-toggle="modal" data-target="#myModal" >
                  <img width="62px" height="75px" alt="Hike News" src="/gallery/avatar/0.jpg">
              </a>
            
            
            <div class="navbar-collapse collapse">
              <ul class="hnav navbar-nav">
                
                  <li> <a class="main-nav-link" href="../../../../index.html">é¦–é¡µ</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../archives">å½’æ¡£</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../categories">åˆ†ç±»</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../tags">æ ‡ç­¾</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../funnysite">é…·ç«™</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../collection">æ”¶è—</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../about">å…³äº</a> </li>
                
                  <li> <a class="main-nav-link" href="../../../../mybooks">ğŸ</a> </li>
                
                  <li><div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="è¯·è¾“å…¥å…³é”®è¯..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: 'æ–‡ç« ',
            PAGES: 'é¡µé¢',
            CATEGORIES: 'åˆ†ç±»',
            TAGS: 'æ ‡ç­¾',
            UNTITLED: '(æ— æ ‡é¢˜)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '../../../../content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="../../../../js/insight.js"></script>

</div></li>
            </div>
          </div>
                
      </div>
    </div>

</header>



      
            
      <div id="content" class="outer">
        
          <section id="main" style="float:none;"><article id="post-åŸºäºç¤¾åŒºå‘ç°ç®—æ³•å’Œå›¾åˆ†æNeo4jè§£è¯»ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹" style="width: 75%; float:left;" class="article article-type-post" itemscope itemprop="blogPost" >
  <div id="articleInner" class="article-inner">
    
<div class="article-gallery">
  <div class="article-gallery-photos">
    
      <a class="article-gallery-img fancybox" href="../../../../gallery/Game-of-Thrones.jpg" rel="gallery_cjh5wmwxx00agnjs6g0x4wu7r">
        <img src="../../../../gallery/Game-of-Thrones.jpg" itemprop="image">
      </a>
    
  </div>
</div>

    
      <header class="article-header">
        
  
    <h1 class="thumb" class="article-title" itemprop="name">
      åŸºäºç¤¾åŒºå‘ç°ç®—æ³•å’Œå›¾åˆ†æNeo4jè§£è¯»ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹
    </h1>
  

      </header>
    
    <div class="article-meta">
      
	<a href="" class="article-date">
	  <time datetime="2016-11-21T03:08:00.000Z" itemprop="datePublished">2016-11-21</time>
	</a>

      
    <a class="article-category-link" href="../../../../categories/Web/">Web</a>

      
	<a class="article-views">
	<span id="busuanzi_container_page_pv">
		é˜…è¯»é‡<span id="busuanzi_value_page_pv"></span>
	</span>
	</a>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="å¯¼è¯»"><a href="#å¯¼è¯»" class="headerlink" title="å¯¼è¯»"></a>å¯¼è¯»</h2><p>å‡ ä¸ªæœˆå‰ï¼Œæ•°å­¦å®¶ Andrew Beveridge å’ŒJie Shanåœ¨æ•°å­¦æ‚å¿—ä¸Šå‘è¡¨<a href="http://www.maa.org/sites/default/files/pdf/Mathhorizons/NetworkofThrones.pdf" target="_blank" rel="noopener"><strong>ã€ŠæƒåŠ›çš„ç½‘ç»œã€‹</strong></a>ï¼Œä¸»è¦åˆ†æç•…é”€å°è¯´ã€Šå†°ä¸ç«ä¹‹æ­Œã€‹ç¬¬ä¸‰éƒ¨ã€Šå†°é›¨çš„é£æš´ã€‹ä¸­äººç‰©å…³ç³»ï¼Œå…¶å·²ç»æ‹æˆç”µè§†å‰§ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ç³»åˆ—ã€‚ä»–ä»¬åœ¨è®ºæ–‡ä¸­ä»‹ç»äº†å¦‚ä½•é€šè¿‡æ–‡æœ¬åˆ†æå’Œå®ä½“æå–æ„å»ºäººç‰©å…³ç³»çš„ç½‘ç»œã€‚ç´§æ¥ç€ï¼Œä½¿ç”¨ç¤¾äº¤ç½‘ç»œåˆ†æç®—æ³•å¯¹äººç‰©å…³ç³»ç½‘ç»œåˆ†ææ‰¾å‡ºæœ€é‡è¦çš„è§’è‰²ï¼›åº”ç”¨ç¤¾åŒºå‘ç°ç®—æ³•æ¥æ‰¾åˆ°äººç‰©èšç±»ã€‚</p>
<p>å…¶ä¸­çš„åˆ†æå’Œå¯è§†åŒ–æ˜¯ç”¨Gephiåšçš„ï¼ŒGephiæ˜¯éå¸¸æµè¡Œçš„å›¾åˆ†æå·¥å…·ã€‚ä½†ä½œè€…è§‰å¾—ä½¿ç”¨Neo4jæ¥å®ç°æ›´æœ‰è¶£ã€‚</p>
<h2 id="å¯¼å…¥åŸå§‹æ•°æ®åˆ°Neo4j"><a href="#å¯¼å…¥åŸå§‹æ•°æ®åˆ°Neo4j" class="headerlink" title="å¯¼å…¥åŸå§‹æ•°æ®åˆ°Neo4j"></a>å¯¼å…¥åŸå§‹æ•°æ®åˆ°Neo4j</h2><p>åŸå§‹æ•°æ®å¯<a href="https://www.macalester.edu/~abeverid/data/stormofswords.csv" target="_blank" rel="noopener">ä»ç½‘ç»œä¸Šä¸‹è½½</a>ï¼Œæ ¼å¼å¦‚ä¸‹ï¼š</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Source,Target,Weight</span><br><span class="line">Aemon,Grenn,5</span><br><span class="line">Aemon,Samwell,31</span><br><span class="line">Aerys,Jaime,18</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>ä¸Šé¢æ˜¯äººç‰©å…³ç³»çš„ä¹‹é‚»æ¥è¡¨ä»¥åŠå…³ç³»æƒé‡ã€‚ä½œè€…ä½¿ç”¨ç®€å•çš„æ•°æ®æ¨¡å‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(:Character &#123;name&#125;)-[:INTERACTS]-&gt;(:Character &#123;name&#125;)</span><br></pre></td></tr></table></figure>
<p>å¸¦æœ‰æ ‡ç­¾Characterçš„èŠ‚ç‚¹ä»£è¡¨å°è¯´ä¸­çš„è§’è‰²ï¼Œç”¨å•å‘å…³ç³»ç±»å‹INTERACTSä»£è¡¨å°è¯´ä¸­çš„è§’è‰²æœ‰è¿‡æ¥è§¦ã€‚èŠ‚ç‚¹å±æ€§ä¼šå­˜å‚¨è§’è‰²çš„åå­—nameï¼Œä¸¤è§’è‰²é—´æ¥è§¦çš„æ¬¡æ•°ä½œä¸ºå…³ç³»çš„å±æ€§ï¼šæƒé‡ï¼ˆweightï¼‰ã€‚</p>
<p>é¦–å…ˆåˆ›å»ºèŠ‚ç‚¹cï¼Œå¹¶åšå”¯ä¸€é™åˆ¶æ€§çº¦æŸï¼Œc.nameå”¯ä¸€ï¼Œä¿è¯schemaçš„å®Œæ•´æ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CREATE CONSTRAINT ON (c:Character) ASSERT c.name IS UNIQUE;</span><br></pre></td></tr></table></figure>
<p>ä¸€æ—¦çº¦æŸåˆ›å»ºå³ç›¸åº”çš„åˆ›å»ºç´¢å¼•ï¼Œè¿™å°†æœ‰åŠ©äºé€šè¿‡è§’è‰²çš„åå­—æŸ¥è¯¢çš„æ€§èƒ½ã€‚ä½œè€…ä½¿ç”¨Neo4jçš„Cypherï¼ˆCypheræ˜¯ä¸€ç§å£°æ˜å¼å›¾æŸ¥è¯¢è¯­è¨€ï¼Œèƒ½è¡¨è¾¾é«˜æ•ˆæŸ¥è¯¢å’Œæ›´æ–°å›¾æ•°æ®åº“ï¼‰LOAD CSVè¯­å¥å¯¼å…¥æ•°æ®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">LOAD CSV WITH HEADERS FROM &quot;https://www.macalester.edu/~abeverid/data/stormofswords.csv&quot; AS row</span><br><span class="line">MERGE (src:Character &#123;name: row.Source&#125;)</span><br><span class="line">MERGE (tgt:Character &#123;name: row.Target&#125;)</span><br><span class="line">MERGE (src)-[r:INTERACTS]-&gt;(tgt)</span><br><span class="line">SET r.weight = toInt(row.Weight)</span><br></pre></td></tr></table></figure>
<p>è¿™æ ·å¾—åˆ°ä¸€ä¸ªç®€å•çš„æ•°æ®æ¨¡å‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CALL apoc.meta.graph()</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/game/1.png" alt="å›¾1 ï¼šã€ŠæƒåŠ›çš„æ¸¸æˆã€‹æ¨¡å‹çš„å›¾ã€‚Characterè§’è‰²èŠ‚ç‚¹ç”±INTERACTSå…³ç³»è”ç»“"></p>
<p>æˆ‘ä»¬èƒ½å¯è§†åŒ–æ•´ä¸ªå›¾å½¢ï¼Œä½†æ˜¯è¿™å¹¶ä¸èƒ½ç»™æˆ‘ä»¬å¾ˆå¤šä¿¡æ¯ï¼Œæ¯”å¦‚å“ªäº›æ˜¯æœ€é‡è¦çš„äººç‰©ï¼Œä»¥åŠä»–ä»¬ç›¸äº’æ¥è§¦çš„ä¿¡æ¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MATCH p=(:Character)-[:INTERACTS]-(:Character)</span><br><span class="line">RETURN p</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/game/2.jpg" alt="å›¾2"></p>
<h2 id="äººç‰©ç½‘ç»œåˆ†æ"><a href="#äººç‰©ç½‘ç»œåˆ†æ" class="headerlink" title="äººç‰©ç½‘ç»œåˆ†æ"></a>äººç‰©ç½‘ç»œåˆ†æ</h2><p>ä½œè€…ä½¿ç”¨Neo4jçš„å›¾æŸ¥è¯¢è¯­è¨€Cypheræ¥åšã€ŠæƒåŠ›çš„æ¸¸æˆã€‹å›¾åˆ†æï¼Œåº”ç”¨åˆ°äº†ç½‘ç»œåˆ†æçš„ä¸€äº›å·¥å…·ï¼Œå…·ä½“è§ã€Šç½‘ç»œï¼Œäººç¾¤å’Œå¸‚åœºï¼šå…³äºé«˜åº¦è¿æ¥çš„ä¸–ç•Œã€‹ã€‚</p>
<h3 id="äººç‰©æ•°é‡"><a href="#äººç‰©æ•°é‡" class="headerlink" title="äººç‰©æ•°é‡"></a>äººç‰©æ•°é‡</h3><p>ä¸‡äº‹ä»¥ç®€å•å¼€å§‹ã€‚å…ˆçœ‹çœ‹ä¸Šå›¾ä¸Šç”±æœ‰å¤šå°‘äººç‰©ï¼š</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">MATCH (c:Character) RETURN count(c)</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">count(c)</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">107</td>
</tr>
</tbody>
</table>
<h3 id="æ¦‚è¦ç»Ÿè®¡"><a href="#æ¦‚è¦ç»Ÿè®¡" class="headerlink" title="æ¦‚è¦ç»Ÿè®¡"></a>æ¦‚è¦ç»Ÿè®¡</h3><p>ç»Ÿè®¡æ¯ä¸ªè§’è‰²æ¥è§¦çš„å…¶å®ƒè§’è‰²çš„æ•°ç›®ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MATCH (c:Character)-[:INTERACTS]-&gt;()</span><br><span class="line">WITH c, count(*) AS num</span><br><span class="line">RETURN min(num) AS min, max(num) AS max, avg(num) AS avg_characters, stdev(num) AS stdev</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">min</th>
<th style="text-align:center">max</th>
<th style="text-align:center">avg_characters</th>
<th style="text-align:center">stdev</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">24</td>
<td style="text-align:center">4.957746478873241</td>
<td style="text-align:center">6.227672391875085</td>
</tr>
</tbody>
</table>
<h3 id="å›¾ï¼ˆç½‘ç»œï¼‰çš„ç›´å¾„"><a href="#å›¾ï¼ˆç½‘ç»œï¼‰çš„ç›´å¾„" class="headerlink" title="å›¾ï¼ˆç½‘ç»œï¼‰çš„ç›´å¾„"></a>å›¾ï¼ˆç½‘ç»œï¼‰çš„ç›´å¾„</h3><p>ç½‘ç»œçš„ç›´å¾„æˆ–è€…æµ‹åº•çº¿æˆ–è€…æœ€é•¿æœ€çŸ­è·¯å¾„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// Find maximum diameter of network</span><br><span class="line">// maximum shortest path between two nodes</span><br><span class="line">MATCH (a:Character), (b:Character) WHERE id(a) &gt; id(b)</span><br><span class="line">MATCH p=shortestPath((a)-[:INTERACTS*]-(b))</span><br><span class="line">RETURN length(p) AS len, extract(x IN nodes(p) | x.name) AS path</span><br><span class="line">ORDER BY len DESC LIMIT 4</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">len</th>
<th>path</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">6</td>
<td>[Illyrio, Belwas, Daenerys, Robert, Tywin, Oberyn, Amory]</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td>[Illyrio, Belwas, Daenerys, Robert, Sansa, Bran, Jojen]</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td>[Illyrio, Belwas, Daenerys, Robert, Stannis, Davos, Shireen]</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td>[Illyrio, Belwas, Daenerys, Robert, Sansa, Bran, Luwin]</td>
</tr>
</tbody>
</table>
<p>æˆ‘ä»¬èƒ½çœ‹åˆ°ç½‘ç»œä¸­æœ‰è®¸å¤šé•¿åº¦ä¸º6çš„è·¯å¾„ã€‚</p>
<h3 id="æœ€çŸ­è·¯å¾„"><a href="#æœ€çŸ­è·¯å¾„" class="headerlink" title="æœ€çŸ­è·¯å¾„"></a>æœ€çŸ­è·¯å¾„</h3><p>ä½œè€…ä½¿ç”¨Cypher çš„shortestPathå‡½æ•°æ‰¾åˆ°å›¾ä¸­ä»»æ„ä¸¤ä¸ªè§’è‰²ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ã€‚è®©æˆ‘ä»¬æ‰¾å‡ºå‡¯ç‰¹ç³Â·å²å¡”å…‹ï¼ˆCatelyn Stark ï¼‰å’Œå“æˆˆÂ·å¡å¥¥ï¼ˆKahl Drogoï¼‰ä¹‹é—´çš„æœ€çŸ­è·¯å¾„ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// Shortest path from Catelyn Stark to Khal Drogo</span><br><span class="line">MATCH (catelyn:Character &#123;name: &quot;Catelyn&quot;&#125;), (drogo:Character &#123;name: &quot;Drogo&quot;&#125;)</span><br><span class="line">MATCH p=shortestPath((catelyn)-[INTERACTS*]-(drogo))</span><br><span class="line">RETURN p</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/game/3.jpg" alt="å›¾3"></p>
<h3 id="æ‰€æœ‰æœ€çŸ­è·¯å¾„"><a href="#æ‰€æœ‰æœ€çŸ­è·¯å¾„" class="headerlink" title="æ‰€æœ‰æœ€çŸ­è·¯å¾„"></a>æ‰€æœ‰æœ€çŸ­è·¯å¾„</h3><p>è”ç»“å‡¯ç‰¹ç³Â·å²å¡”å…‹ï¼ˆCatelyn Stark ï¼‰å’Œå“æˆˆÂ·å¡å¥¥ï¼ˆKahl Drogoï¼‰ä¹‹é—´çš„æœ€çŸ­è·¯å¾„å¯èƒ½è¿˜æœ‰å…¶å®ƒè·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨Cypherçš„allShortestPathså‡½æ•°æ¥æŸ¥æ‰¾ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// All shortest paths from Catelyn Stark to Khal Drogo</span><br><span class="line">MATCH (catelyn:Character &#123;name: &quot;Catelyn&quot;&#125;), (drogo:Character &#123;name: &quot;Drogo&quot;&#125;)</span><br><span class="line">MATCH p=allShortestPaths((catelyn)-[INTERACTS*]-(drogo))</span><br><span class="line">RETURN p</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/game/4.jpg" alt="å›¾4"></p>
<h3 id="å…³é”®èŠ‚ç‚¹"><a href="#å…³é”®èŠ‚ç‚¹" class="headerlink" title="å…³é”®èŠ‚ç‚¹"></a>å…³é”®èŠ‚ç‚¹</h3><p>åœ¨ç½‘ç»œä¸­ï¼Œå¦‚æœä¸€ä¸ªèŠ‚ç‚¹ä½äºå…¶å®ƒä¸¤ä¸ªèŠ‚ç‚¹æ‰€æœ‰çš„æœ€çŸ­è·¯å¾„ä¸Šï¼Œå³ç§°ä¸ºå…³é”®èŠ‚ç‚¹ã€‚ä¸‹é¢æˆ‘ä»¬æ‰¾å‡ºç½‘ç»œä¸­æ‰€æœ‰çš„å…³é”®èŠ‚ç‚¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">// Find all pivotal nodes in network</span><br><span class="line">MATCH (a:Character), (b:Character)</span><br><span class="line">MATCH p=allShortestPaths((a)-[:INTERACTS*]-(b)) WITH collect(p) AS paths, a, b</span><br><span class="line">MATCH (c:Character) WHERE all(x IN paths WHERE c IN nodes(x)) AND NOT c IN [a,b]</span><br><span class="line">RETURN a.name, b.name, c.name AS PivotalNode SKIP 490 LIMIT 10</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">a.name</th>
<th style="text-align:center">b.name</th>
<th style="text-align:center">PivotalNode</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Aegon</td>
<td style="text-align:center">Thoros</td>
<td style="text-align:center">Daenerys</td>
</tr>
<tr>
<td style="text-align:center">Aegon</td>
<td style="text-align:center">Thoros</td>
<td style="text-align:center">Robert</td>
</tr>
<tr>
<td style="text-align:center">Drogo</td>
<td style="text-align:center">Ramsay</td>
<td style="text-align:center">Robb</td>
</tr>
<tr>
<td style="text-align:center">Styr</td>
<td style="text-align:center">Daario</td>
<td style="text-align:center">Daenerys</td>
</tr>
<tr>
<td style="text-align:center">Styr</td>
<td style="text-align:center">Daario</td>
<td style="text-align:center">Jon</td>
</tr>
<tr>
<td style="text-align:center">Styr</td>
<td style="text-align:center">Daario</td>
<td style="text-align:center">Robert</td>
</tr>
<tr>
<td style="text-align:center">Qhorin</td>
<td style="text-align:center">Podrick</td>
<td style="text-align:center">Jon</td>
</tr>
<tr>
<td style="text-align:center">Qhorin</td>
<td style="text-align:center">Podrick</td>
<td style="text-align:center">Sansa</td>
</tr>
<tr>
<td style="text-align:center">Orell</td>
<td style="text-align:center">Theon</td>
<td style="text-align:center">Jon</td>
</tr>
<tr>
<td style="text-align:center">Illyrio</td>
<td style="text-align:center">Bronn</td>
<td style="text-align:center">Belwas</td>
</tr>
</tbody>
</table>
<p>ä»ç»“æœè¡¨æ ¼ä¸­æˆ‘ä»¬å¯ä»¥çœ‹å‡ºæœ‰è¶£çš„ç»“æœï¼šç½—æŸÂ·å²å¡”å…‹ï¼ˆRobbï¼‰æ˜¯å“æˆˆÂ·å¡å¥¥ï¼ˆDrogoï¼‰å’Œæ‹‰å§†å¡Â·æ³¢é¡¿ï¼ˆRamsayï¼‰çš„å…³é”®èŠ‚ç‚¹ã€‚è¿™æ„å‘³ç€ï¼Œæ‰€æœ‰è”ç»“å“æˆˆÂ·å¡å¥¥ï¼ˆDrogoï¼‰å’Œæ‹‰å§†å¡Â·æ³¢é¡¿ï¼ˆRamsayï¼‰çš„æœ€çŸ­è·¯å¾„éƒ½è¦ç»è¿‡ç½—æŸÂ·å²å¡”å…‹ï¼ˆRobbï¼‰ã€‚æˆ‘ä»¬å¯ä»¥é€šè¿‡å¯è§†åŒ–å“æˆˆÂ·å¡å¥¥ï¼ˆDrogoï¼‰å’Œæ‹‰å§†å¡Â·æ³¢é¡¿ï¼ˆRamsayï¼‰ä¹‹é—´çš„æ‰€æœ‰æœ€çŸ­è·¯å¾„æ¥éªŒè¯ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MATCH (a:Character &#123;name: &quot;Drogo&quot;&#125;), (b:Character &#123;name: &quot;Ramsay&quot;&#125;)</span><br><span class="line">MATCH p=allShortestPaths((a)-[:INTERACTS*]-(b))</span><br><span class="line">RETURN p</span><br></pre></td></tr></table></figure>
<p><img src="/gallery/game/5.jpg" alt="å›¾5"></p>
<h3 id="èŠ‚ç‚¹ä¸­å¿ƒåº¦"><a href="#èŠ‚ç‚¹ä¸­å¿ƒåº¦" class="headerlink" title="èŠ‚ç‚¹ä¸­å¿ƒåº¦"></a>èŠ‚ç‚¹ä¸­å¿ƒåº¦</h3><p>èŠ‚ç‚¹ä¸­å¿ƒåº¦ç»™å‡ºç½‘ç»œä¸­èŠ‚ç‚¹çš„é‡è¦æ€§çš„ç›¸å¯¹åº¦é‡ã€‚æœ‰è®¸å¤šä¸åŒçš„æ–¹å¼æ¥åº¦é‡ä¸­å¿ƒåº¦ï¼Œæ¯ç§æ–¹å¼éƒ½ä»£è¡¨ä¸åŒç±»å‹çš„â€œé‡è¦æ€§â€ã€‚</p>
<h3 id="åº¦ä¸­å¿ƒæ€§-Degree-Centrality"><a href="#åº¦ä¸­å¿ƒæ€§-Degree-Centrality" class="headerlink" title="åº¦ä¸­å¿ƒæ€§(Degree Centrality)"></a>åº¦ä¸­å¿ƒæ€§(Degree Centrality)</h3><p>åº¦ä¸­å¿ƒæ€§æ˜¯æœ€ç®€å•åº¦é‡ï¼Œå³ä¸ºæŸä¸ªèŠ‚ç‚¹åœ¨ç½‘ç»œä¸­çš„è”ç»“æ•°ã€‚åœ¨ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹çš„å›¾ä¸­ï¼ŒæŸä¸ªè§’è‰²çš„åº¦ä¸­å¿ƒæ€§æ˜¯æŒ‡è¯¥è§’è‰²æ¥è§¦çš„å…¶ä»–è§’è‰²æ•°ã€‚ä½œè€…ä½¿ç”¨Cypherè®¡ç®—åº¦ä¸­å¿ƒæ€§ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MATCH (c:Character)-[:INTERACTS]-()</span><br><span class="line">RETURN c.name AS character, count(*) AS degree ORDER BY degree DESC</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">character</th>
<th style="text-align:center">degree</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Tyrion</td>
<td style="text-align:center">36</td>
</tr>
<tr>
<td style="text-align:center">Jon</td>
<td style="text-align:center">26</td>
</tr>
<tr>
<td style="text-align:center">Sansa</td>
<td style="text-align:center">26</td>
</tr>
<tr>
<td style="text-align:center">Robb</td>
<td style="text-align:center">25</td>
</tr>
<tr>
<td style="text-align:center">Jaime</td>
<td style="text-align:center">24</td>
</tr>
<tr>
<td style="text-align:center">Tywin</td>
<td style="text-align:center">22</td>
</tr>
<tr>
<td style="text-align:center">Cersei</td>
<td style="text-align:center">20</td>
</tr>
<tr>
<td style="text-align:center">Arya</td>
<td style="text-align:center">19</td>
</tr>
<tr>
<td style="text-align:center">Joffrey</td>
<td style="text-align:center">18</td>
</tr>
<tr>
<td style="text-align:center">Robert</td>
<td style="text-align:center">18</td>
</tr>
</tbody>
</table>
<p>ä»ä¸Šé¢å¯ä»¥å‘ç°ï¼Œåœ¨ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ç½‘ç»œä¸­æåˆ©æ˜‚Â·å…°å°¼æ–¯ç‰¹ï¼ˆTyrionï¼‰å’Œæœ€å¤šçš„è§’è‰²æœ‰æ¥è§¦ã€‚é‰´äºä»–çš„å¿ƒè®¡ï¼Œæˆ‘ä»¬è§‰å¾—è¿™æ˜¯æœ‰é“ç†çš„ã€‚</p>
<h3 id="åŠ æƒåº¦ä¸­å¿ƒæ€§ï¼ˆWeighted-Degree-Centralityï¼‰"><a href="#åŠ æƒåº¦ä¸­å¿ƒæ€§ï¼ˆWeighted-Degree-Centralityï¼‰" class="headerlink" title="åŠ æƒåº¦ä¸­å¿ƒæ€§ï¼ˆWeighted Degree Centralityï¼‰"></a>åŠ æƒåº¦ä¸­å¿ƒæ€§ï¼ˆWeighted Degree Centralityï¼‰</h3><p>ä½œè€…å­˜å‚¨ä¸€å¯¹è§’è‰²æ¥è§¦çš„æ¬¡æ•°ä½œä¸ºINTERACTSå…³ç³»çš„weightå±æ€§ã€‚å¯¹è¯¥è§’è‰²çš„INTERACTSå…³ç³»çš„æ‰€æœ‰weightç›¸åŠ å¾—åˆ°åŠ æƒåº¦ä¸­å¿ƒæ€§ã€‚ä½œè€…ä½¿ç”¨Cypherè®¡ç®—æ‰€æœ‰è§’è‰²çš„è¿™ä¸ªåº¦é‡ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MATCH (c:Character)-[r:INTERACTS]-()</span><br><span class="line">RETURN c.name AS character, sum(r.weight) AS weightedDegree ORDER BY weightedDegree DESC</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">character</th>
<th style="text-align:center">weightedDegree</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Tyrion</td>
<td style="text-align:center">551</td>
</tr>
<tr>
<td style="text-align:center">Jon</td>
<td style="text-align:center">442</td>
</tr>
<tr>
<td style="text-align:center">Sansa</td>
<td style="text-align:center">383</td>
</tr>
<tr>
<td style="text-align:center">Jaime</td>
<td style="text-align:center">372</td>
</tr>
<tr>
<td style="text-align:center">Bran</td>
<td style="text-align:center">344</td>
</tr>
<tr>
<td style="text-align:center">Robb</td>
<td style="text-align:center">342</td>
</tr>
<tr>
<td style="text-align:center">Samwell</td>
<td style="text-align:center">282</td>
</tr>
<tr>
<td style="text-align:center">Arya</td>
<td style="text-align:center">269</td>
</tr>
<tr>
<td style="text-align:center">Joffrey</td>
<td style="text-align:center">255</td>
</tr>
<tr>
<td style="text-align:center">Daenerys</td>
<td style="text-align:center">232</td>
</tr>
</tbody>
</table>
<h3 id="ä»‹æ•°ä¸­å¿ƒæ€§ï¼ˆBetweenness-Centralityï¼‰"><a href="#ä»‹æ•°ä¸­å¿ƒæ€§ï¼ˆBetweenness-Centralityï¼‰" class="headerlink" title="ä»‹æ•°ä¸­å¿ƒæ€§ï¼ˆBetweenness Centralityï¼‰"></a>ä»‹æ•°ä¸­å¿ƒæ€§ï¼ˆBetweenness Centralityï¼‰</h3><p>ä»‹æ•°ä¸­å¿ƒæ€§ï¼šåœ¨ç½‘ç»œä¸­ï¼Œä¸€ä¸ªèŠ‚ç‚¹çš„ä»‹æ•°ä¸­å¿ƒæ€§æ˜¯æŒ‡å…¶å®ƒä¸¤ä¸ªèŠ‚ç‚¹çš„æ‰€æœ‰æœ€çŸ­è·¯å¾„éƒ½ç»è¿‡è¿™ä¸ªèŠ‚ç‚¹ï¼Œåˆ™è¿™äº›æ‰€æœ‰æœ€çŸ­è·¯å¾„æ•°å³ä¸ºæ­¤èŠ‚ç‚¹çš„ä»‹æ•°ä¸­å¿ƒæ€§ã€‚ä»‹æ•°ä¸­å¿ƒæ€§æ˜¯ä¸€ç§é‡è¦çš„åº¦é‡ï¼Œå› ä¸ºå®ƒå¯ä»¥é‰´åˆ«å‡ºç½‘ç»œä¸­çš„â€œä¿¡æ¯ä¸­é—´äººâ€æˆ–è€…ç½‘ç»œèšç±»åçš„è”ç»“ç‚¹ã€‚</p>
<p><img src="/gallery/game/6.jpg" alt="å›¾6ä¸­çº¢è‰²èŠ‚ç‚¹æ˜¯å…·æœ‰é«˜çš„ä»‹æ•°ä¸­å¿ƒæ€§ï¼Œç½‘ç»œèšç±»çš„è”ç»“ç‚¹ã€‚"></p>
<p>ä¸ºäº†è®¡ç®—ä»‹æ•°ä¸­å¿ƒæ€§ï¼Œä½œè€…ä½¿ç”¨Neo4j 3.xæˆ–è€…apocåº“ã€‚å®‰è£…apocåèƒ½ç”¨Cypherè°ƒç”¨å…¶170+çš„ç¨‹åºï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">MATCH (c:Character)</span><br><span class="line">WITH collect(c) AS characters</span><br><span class="line">CALL apoc.algo.betweenness([&apos;INTERACTS&apos;], characters, &apos;BOTH&apos;) YIELD node, score</span><br><span class="line">SET node.betweenness = score</span><br><span class="line">RETURN node.name AS name, score ORDER BY score DESC</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">name</th>
<th style="text-align:center">score</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Jon</td>
<td style="text-align:center">1279.7533534055322</td>
</tr>
<tr>
<td style="text-align:center">Robert</td>
<td style="text-align:center">1165.6025171231624</td>
</tr>
<tr>
<td style="text-align:center">Tyrion</td>
<td style="text-align:center">1101.3849724234349</td>
</tr>
<tr>
<td style="text-align:center">Daenerys</td>
<td style="text-align:center">874.8372110508583</td>
</tr>
<tr>
<td style="text-align:center">Robb</td>
<td style="text-align:center">706.5572832464792</td>
</tr>
<tr>
<td style="text-align:center">Sansa</td>
<td style="text-align:center">705.1985623519137</td>
</tr>
<tr>
<td style="text-align:center">Stannis</td>
<td style="text-align:center">571.5247305125714</td>
</tr>
<tr>
<td style="text-align:center">Jaime</td>
<td style="text-align:center">556.1852522889822</td>
</tr>
<tr>
<td style="text-align:center">Arya</td>
<td style="text-align:center">443.01358430043337</td>
</tr>
<tr>
<td style="text-align:center">Tywin</td>
<td style="text-align:center">364.7212195528086</td>
</tr>
</tbody>
</table>
<h3 id="ç´§åº¦ä¸­å¿ƒæ€§ï¼ˆCloseness-centralityï¼‰"><a href="#ç´§åº¦ä¸­å¿ƒæ€§ï¼ˆCloseness-centralityï¼‰" class="headerlink" title="ç´§åº¦ä¸­å¿ƒæ€§ï¼ˆCloseness centralityï¼‰"></a>ç´§åº¦ä¸­å¿ƒæ€§ï¼ˆCloseness centralityï¼‰</h3><p>ç´§åº¦ä¸­å¿ƒæ€§æ˜¯æŒ‡åˆ°ç½‘ç»œä¸­æ‰€æœ‰å…¶ä»–è§’è‰²çš„å¹³å‡è·ç¦»çš„å€’æ•°ã€‚åœ¨å›¾ä¸­ï¼Œå…·æœ‰é«˜ç´§åº¦ä¸­å¿ƒæ€§çš„èŠ‚ç‚¹åœ¨èšç±»ç¤¾åŒºä¹‹é—´è¢«é«˜åº¦è”ç»“ï¼Œä½†åœ¨ç¤¾åŒºä¹‹å¤–ä¸ä¸€å®šæ˜¯é«˜åº¦è”ç»“çš„ã€‚</p>
<p><img src="/gallery/game/7.png" alt="å›¾7 ï¼šç½‘ç»œä¸­å…·æœ‰é«˜ç´§åº¦ä¸­å¿ƒæ€§çš„èŠ‚ç‚¹è¢«å…¶å®ƒèŠ‚ç‚¹é«˜åº¦è”ç»“"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">MATCH (c:Character)</span><br><span class="line">WITH collect(c) AS characters</span><br><span class="line">CALL apoc.algo.closeness([&apos;INTERACTS&apos;], characters, &apos;BOTH&apos;) YIELD node, score</span><br><span class="line">RETURN node.name AS name, score ORDER BY score DESC</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">name</th>
<th style="text-align:center">score</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Tyrion</td>
<td style="text-align:center">0.004830917874396135</td>
</tr>
<tr>
<td style="text-align:center">Sansa</td>
<td style="text-align:center">0.004807692307692308</td>
</tr>
<tr>
<td style="text-align:center">Robert</td>
<td style="text-align:center">0.0047169811320754715</td>
</tr>
<tr>
<td style="text-align:center">Robb</td>
<td style="text-align:center">0.004608294930875576</td>
</tr>
<tr>
<td style="text-align:center">Arya</td>
<td style="text-align:center">0.0045871559633027525</td>
</tr>
<tr>
<td style="text-align:center">Jaime</td>
<td style="text-align:center">0.004524886877828055</td>
</tr>
<tr>
<td style="text-align:center">Stannis</td>
<td style="text-align:center">0.004524886877828055</td>
</tr>
<tr>
<td style="text-align:center">Jon</td>
<td style="text-align:center">0.004524886877828055</td>
</tr>
<tr>
<td style="text-align:center">Tywin</td>
<td style="text-align:center">0.004424778761061947</td>
</tr>
<tr>
<td style="text-align:center">Eddard</td>
<td style="text-align:center">0.004347826086956522</td>
</tr>
</tbody>
</table>
<h2 id="ä½¿ç”¨python-igraph"><a href="#ä½¿ç”¨python-igraph" class="headerlink" title="ä½¿ç”¨python-igraph"></a>ä½¿ç”¨python-igraph</h2><p>Neo4jä¸å…¶å®ƒå·¥å…·ï¼ˆæ¯”å¦‚ï¼ŒRå’ŒPythonæ•°æ®ç§‘å­¦å·¥å…·ï¼‰å®Œç¾ç»“åˆã€‚æˆ‘ä»¬ç»§ç»­ä½¿ç”¨apocè¿è¡Œ PageRankå’Œç¤¾åŒºå‘ç°ï¼ˆcommunity detectionï¼‰ç®—æ³•ã€‚è¿™é‡Œæ¥ç€ä½¿ç”¨python-igraphè®¡ç®—åˆ†æã€‚Python-igraphç§»æ¤è‡ªRçš„igraphå›¾å½¢åˆ†æåº“ã€‚ ä½¿ç”¨pip install python-igraphå®‰è£…å®ƒã€‚</p>
<h3 id="ä»Neo4jæ„å»ºä¸€ä¸ªigraphå®ä¾‹"><a href="#ä»Neo4jæ„å»ºä¸€ä¸ªigraphå®ä¾‹" class="headerlink" title="ä»Neo4jæ„å»ºä¸€ä¸ªigraphå®ä¾‹"></a>ä»Neo4jæ„å»ºä¸€ä¸ªigraphå®ä¾‹</h3><p>ä¸ºäº†åœ¨ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹çš„æ•°æ®çš„å›¾åˆ†æä¸­ä½¿ç”¨igraphï¼Œé¦–å…ˆéœ€è¦ä»Neo4jæ‹‰å–æ•°æ®ï¼Œç”¨Pythonå»ºç«‹igraphå®ä¾‹ã€‚ä½œè€…ä½¿ç”¨ Neo4j çš„Pythoné©±åŠ¨åº“py2neoã€‚æˆ‘ä»¬èƒ½ç›´æ¥ä¼ å…¥Py2neoæŸ¥è¯¢ç»“æœå¯¹è±¡åˆ°igraphçš„TupleListæ„é€ å™¨ï¼Œåˆ›å»ºigraphå®ä¾‹ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> py2neo <span class="keyword">import</span> Graph</span><br><span class="line"><span class="keyword">from</span> igraph <span class="keyword">import</span> Graph <span class="keyword">as</span> IGraph</span><br><span class="line">graph = Graph()</span><br><span class="line"></span><br><span class="line">query = <span class="string">'''</span></span><br><span class="line"><span class="string">MATCH (c1:Character)-[r:INTERACTS]-&gt;(c2:Character)</span></span><br><span class="line"><span class="string">RETURN c1.name, c2.name, r.weight AS weight</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">ig = IGraph.TupleList(graph.run(query), weights=<span class="keyword">True</span>)</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨æœ‰äº†igraphå¯¹è±¡ï¼Œå¯ä»¥è¿è¡Œigraphå®ç°çš„å„ç§å›¾ç®—æ³•æ¥ã€‚</p>
<h3 id="PageRank"><a href="#PageRank" class="headerlink" title="PageRank"></a>PageRank</h3><p>ä½œè€…ä½¿ç”¨igraphè¿è¡Œçš„ç¬¬ä¸€ä¸ªç®—æ³•æ˜¯<a href="https://en.wikipedia.org/wiki/PageRank" target="_blank" rel="noopener">PageRank</a>ã€‚PageRankç®—æ³•æºè‡ªGoogleçš„ç½‘é¡µæ’åã€‚å®ƒæ˜¯ä¸€ç§<a href="https://en.wikipedia.org/wiki/Centrality#Eigenvector_centrality" target="_blank" rel="noopener">ç‰¹å¾å‘é‡ä¸­å¿ƒæ€§(eigenvector centrality)</a>ç®—æ³•ã€‚</p>
<p><img src="/gallery/game/page-rank.png" alt=""></p>
<p>åœ¨igraphå®ä¾‹ä¸­è¿è¡ŒPageRankç®—æ³•ï¼Œç„¶åæŠŠç»“æœå†™å›Neo4jï¼Œåœ¨è§’è‰²èŠ‚ç‚¹åˆ›å»ºä¸€ä¸ªpagerankå±æ€§å­˜å‚¨igraphè®¡ç®—çš„å€¼ï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">pg = ig.pagerank()</span><br><span class="line">pgvs = []</span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> zip(ig.vs, pg):</span><br><span class="line">    print(p)</span><br><span class="line">    pgvs.append(&#123;<span class="string">"name"</span>: p[<span class="number">0</span>][<span class="string">"name"</span>], <span class="string">"pg"</span>: p[<span class="number">1</span>]&#125;)</span><br><span class="line">pgvs</span><br><span class="line"></span><br><span class="line">write_clusters_query = <span class="string">'''</span></span><br><span class="line"><span class="string">UNWIND &#123;nodes&#125; AS n</span></span><br><span class="line"><span class="string">MATCH (c:Character) WHERE c.name = n.name</span></span><br><span class="line"><span class="string">SET c.pagerank = n.pg</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">graph.run(write_clusters_query, nodes=pgvs)</span><br></pre></td></tr></table></figure>
<p>ç°åœ¨å¯ä»¥åœ¨Neo4jçš„å›¾ä¸­æŸ¥è¯¢æœ€é«˜PageRankå€¼çš„èŠ‚ç‚¹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">MATCH (n:Character)</span><br><span class="line">RETURN n.name AS name, n.pagerank AS pagerank ORDER BY pagerank DESC LIMIT 10</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">name</th>
<th style="text-align:center">pagerank</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">Tyrion</td>
<td style="text-align:center">0.042884981999963316</td>
</tr>
<tr>
<td style="text-align:center">Jon</td>
<td style="text-align:center">0.03582869669163558</td>
</tr>
<tr>
<td style="text-align:center">Robb</td>
<td style="text-align:center">0.03017114665594764</td>
</tr>
<tr>
<td style="text-align:center">Sansa</td>
<td style="text-align:center">0.030009716660108578</td>
</tr>
<tr>
<td style="text-align:center">Daenerys</td>
<td style="text-align:center">0.02881425425830273</td>
</tr>
<tr>
<td style="text-align:center">Jaime</td>
<td style="text-align:center">0.028727587587471206</td>
</tr>
<tr>
<td style="text-align:center">Tywin</td>
<td style="text-align:center">0.02570016262642541</td>
</tr>
<tr>
<td style="text-align:center">Robert</td>
<td style="text-align:center">0.022292016521362864</td>
</tr>
<tr>
<td style="text-align:center">Cersei</td>
<td style="text-align:center">0.022287327589773507</td>
</tr>
<tr>
<td style="text-align:center">Arya</td>
<td style="text-align:center">0.022050209663844467</td>
</tr>
</tbody>
</table>
<p><img src="/gallery/game/8.jpg" alt=""></p>
<p>ç¤¾åŒºå‘ç°ç®—æ³•ç”¨æ¥æ‰¾å‡ºå›¾ä¸­çš„ç¤¾åŒºèšç±»ã€‚ä½œè€…ä½¿ç”¨igraphå®ç°çš„éšæœºæ¸¸èµ°ç®—æ³•ï¼ˆ walktrapï¼‰æ¥æ‰¾åˆ°åœ¨ç¤¾åŒºä¸­é¢‘ç¹æœ‰æ¥è§¦çš„è§’è‰²ç¤¾åŒºï¼Œåœ¨ç¤¾åŒºä¹‹å¤–è§’è‰²ä¸æ€ä¹ˆæ¥è§¦ã€‚</p>
<p>åœ¨igraphä¸­è¿è¡Œéšæœºæ¸¸èµ°çš„ç¤¾åŒºå‘ç°ç®—æ³•ï¼Œç„¶åæŠŠç¤¾åŒºå‘ç°çš„ç»“æœå¯¼å…¥Neo4jï¼Œå…¶ä¸­æ¯ä¸ªè§’è‰²æ‰€å±çš„ç¤¾åŒºç”¨ä¸€ä¸ªæ•´æ•°æ¥è¡¨ç¤ºï¼š</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">clusters = IGraph.community_walktrap(ig, weights=<span class="string">"weight"</span>).as_clustering()</span><br><span class="line"></span><br><span class="line">nodes = [&#123;<span class="string">"name"</span>: node[<span class="string">"name"</span>]&#125; <span class="keyword">for</span> node <span class="keyword">in</span> ig.vs]</span><br><span class="line"><span class="keyword">for</span> node <span class="keyword">in</span> nodes:</span><br><span class="line">    idx = ig.vs.find(name=node[<span class="string">"name"</span>]).index</span><br><span class="line">    node[<span class="string">"community"</span>] = clusters.membership[idx]</span><br><span class="line"></span><br><span class="line">write_clusters_query = <span class="string">'''</span></span><br><span class="line"><span class="string">UNWIND &#123;nodes&#125; AS n</span></span><br><span class="line"><span class="string">MATCH (c:Character) WHERE c.name = n.name</span></span><br><span class="line"><span class="string">SET c.community = toInt(n.community)</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"></span><br><span class="line">graph.run(write_clusters_query, nodes=nodes)</span><br></pre></td></tr></table></figure>
<p>æˆ‘ä»¬èƒ½åœ¨Neo4jä¸­æŸ¥è¯¢æœ‰å¤šå°‘ä¸ªç¤¾åŒºä»¥åŠæ¯ä¸ªç¤¾åŒºçš„æˆå‘˜æ•°ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">MATCH (c:Character)</span><br><span class="line">WITH c.community AS cluster, collect(c.name) AS  members</span><br><span class="line">RETURN cluster, members ORDER BY cluster ASC</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th style="text-align:center">cluster</th>
<th style="text-align:center">members</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center">0</td>
<td style="text-align:center">[Aemon, Alliser, Craster, Eddison, Gilly, Janos, Jon, Mance, Rattleshirt, Samwell, Val, Ygritte, Grenn, Karl, Bowen, Dalla, Orell, Qhorin, Styr]</td>
</tr>
<tr>
<td style="text-align:center">1</td>
<td style="text-align:center">[Aerys, Amory, Balon, Brienne, Bronn, Cersei, Gregor, Jaime, Joffrey, Jon Arryn, Kevan, Loras, Lysa, Meryn, Myrcella, Oberyn, Podrick, Renly, Robert, Robert Arryn, Sansa, Shae, Tommen, Tyrion, Tywin, Varys, Walton, Petyr, Elia, Ilyn, Pycelle, Qyburn, Margaery, Olenna, Marillion, Ellaria, Mace, Chataya, Doran]</td>
</tr>
<tr>
<td style="text-align:center">2</td>
<td style="text-align:center">[Arya, Beric, Eddard, Gendry, Sandor, Anguy, Thoros]</td>
</tr>
<tr>
<td style="text-align:center">3</td>
<td style="text-align:center">[Brynden, Catelyn, Edmure, Hoster, Lothar, Rickard, Robb, Roose, Walder, Jeyne, Roslin, Ramsay]</td>
</tr>
<tr>
<td style="text-align:center">4</td>
<td style="text-align:center">[Bran, Hodor, Jojen, Luwin, Meera, Rickon, Nan, Theon]</td>
</tr>
<tr>
<td style="text-align:center">5</td>
<td style="text-align:center">[Belwas, Daario, Daenerys, Irri, Jorah, Missandei, Rhaegar, Viserys, Barristan, Illyrio, Drogo, Aegon, Kraznys, Rakharo, Worm]</td>
</tr>
<tr>
<td style="text-align:center">6</td>
<td style="text-align:center">[Davos, Melisandre, Shireen, Stannis, Cressen, Salladhor]</td>
</tr>
<tr>
<td style="text-align:center">7</td>
<td style="text-align:center">[Lancel]</td>
</tr>
</tbody>
</table>
<h3 id="è§’è‰²â€œå¤§åˆå½±â€"><a href="#è§’è‰²â€œå¤§åˆå½±â€" class="headerlink" title="è§’è‰²â€œå¤§åˆå½±â€"></a>è§’è‰²â€œå¤§åˆå½±â€</h3><p><img src="/gallery/game/graph-of-thrones.png" alt="The graph of thrones"></p>
<p>ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹çš„æƒåŠ›å›¾ã€‚èŠ‚ç‚¹çš„å¤§å°æ­£æ¯”äºä»‹æ•°ä¸­å¿ƒæ€§ï¼Œé¢œè‰²è¡¨ç¤ºç¤¾åŒºï¼ˆç”±éšæœºæ¸¸èµ°ç®—æ³•è·å¾—ï¼‰ï¼Œè¾¹çš„åšåº¦æ­£æ¯”äºä¸¤èŠ‚ç‚¹æ¥è§¦çš„æ¬¡æ•°ã€‚<br>ç°åœ¨å·²ç»è®¡ç®—å¥½è¿™äº›å›¾çš„åˆ†ææ•°æ®ï¼Œè®©æˆ‘ä»¬å¯¹å…¶è¿›è¡Œå¯è§†åŒ–ï¼Œè®©æ•°æ®çœ‹èµ·æ¥æ›´æœ‰æ„ä¹‰ã€‚</p>
<p>Neo4jè‡ªå¸¦æµè§ˆå™¨å¯ä»¥å¯¹CypheræŸ¥è¯¢çš„ç»“æœè¿›è¡Œå¾ˆå¥½çš„å¯è§†åŒ–ï¼Œä½†å¦‚æœæˆ‘ä»¬æƒ³æŠŠå¯è§†åŒ–å¥½çš„å›¾åµŒå…¥åˆ°å…¶å®ƒåº”ç”¨ä¸­ï¼Œå¯ä»¥ä½¿ç”¨Javascriptå¯è§†åŒ–åº“Vis.jsã€‚ä»Neo4jæ‹‰å–æ•°æ®ï¼Œç”¨Vis.jsçš„neovis.jsæ„å»ºå¯è§†åŒ–å›¾ã€‚Neovis.jsæä¾›ç®€å•çš„APIé…ç½®ï¼Œä¾‹å¦‚ï¼š</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> config = &#123;</span><br><span class="line">  container_id: <span class="string">"viz"</span>,</span><br><span class="line">  server_url: <span class="string">"localhost"</span>,</span><br><span class="line">  labels: &#123;    <span class="string">"Character"</span>: <span class="string">"name"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  label_size: &#123;    <span class="string">"Character"</span>: <span class="string">"betweenness"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  relationships: &#123;    <span class="string">"INTERACTS"</span>: <span class="literal">null</span></span><br><span class="line">  &#125;,</span><br><span class="line">  relationship_thickness: &#123;    <span class="string">"INTERACTS"</span>: <span class="string">"weight"</span></span><br><span class="line">  &#125;,</span><br><span class="line">  cluster_labels: &#123;    <span class="string">"Character"</span>: <span class="string">"community"</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> viz = <span class="keyword">new</span> NeoVis(config);</span><br><span class="line">viz.render();</span><br></pre></td></tr></table></figure>
<p>å…¶ä¸­ï¼š</p>
<ul>
<li>èŠ‚ç‚¹å¸¦æœ‰æ ‡ç­¾<code>Character</code>ï¼Œå±æ€§<code>name</code>ï¼›</li>
<li>èŠ‚ç‚¹çš„å¤§å°æ­£æ¯”äº<code>betweenness</code>å±æ€§ï¼›</li>
<li>å¯è§†åŒ–ä¸­åŒ…æ‹¬<code>INTERACTS</code>å…³ç³»ï¼›</li>
<li>å…³ç³»çš„åšåº¦æ­£æ¯”äº<code>weight</code>å±æ€§ï¼›</li>
<li>èŠ‚ç‚¹çš„é¢œè‰²æ˜¯æ ¹æ®ç½‘ç»œä¸­ç¤¾åŒº<code>community</code>å±æ€§å†³å®šï¼›</li>
<li>ä»æœ¬åœ°æœåŠ¡å™¨<code>localhost</code>æ‹‰å–Neo4jçš„æ•°æ®ï¼›</li>
<li>åœ¨ä¸€ä¸ªidä¸º<code>viz</code>çš„DOMå…ƒç´ ä¸­å±•ç¤ºå¯è§†åŒ–ã€‚</li>
</ul>
<h2 id="Resources"><a href="#Resources" class="headerlink" title="Resources"></a>Resources</h2><ul>
<li><p>A. Beveridge and J. Shan, <a href="http://www.maa.org/sites/default/files/pdf/Mathhorizons/NetworkofThrones.pdf" target="_blank" rel="noopener">â€œNetwork of Thronesâ€</a> Math Horizons Magazine , Vol. 23, No. 4 (2016), pp. 18-22.</p>
</li>
<li><p>J. Kleinberg and D. Easley, <a href="https://www.cs.cornell.edu/home/kleinber/networks-book/" target="_blank" rel="noopener">Networks, Crowds, and Markets: Reasoning About a Highly Connected World</a>. Cambridge University Press (2010)<br>All code is <a href="https://github.com/johnymontana/graph-of-thrones">available on Github</a>.</p>
</li>
</ul>
<hr>
<p>ã€å‚è€ƒèµ„æ–™ã€‘</p>
<ul>
<li><a href="http://www.lyonwj.com/2016/06/26/graph-of-thrones-neo4j-social-network-analysis/" target="_blank" rel="noopener"><strong>Analyzing the Graph of Thrones</strong> â€“ by William Lyon</a></li>
<li><a href="http://mp.weixin.qq.com/s?__biz=MzI0MDIxMDM0MQ==&amp;mid=2247483702&amp;idx=2&amp;sn=7a1abd6d129b87150e890b7ae11791aa&amp;3rd=MzA3MDU4NTYzMw==&amp;scene=6#rd" target="_blank" rel="noopener">åŸºäºç¤¾åŒºå‘ç°ç®—æ³•å’Œå›¾åˆ†æNeo4jè§£è¯»ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ä¸Šç¯‡</a></li>
<li><a href="http://www.hizher.com/pageContent-1148688-51394.html" target="_blank" rel="noopener">åŸºäºç¤¾åŒºå‘ç°ç®—æ³•å’Œå›¾åˆ†æNeo4jè§£è¯»ã€ŠæƒåŠ›çš„æ¸¸æˆã€‹ä¸‹ç¯‡</a></li>
</ul>

      
    </div>
    <footer class="article-footer">
      
        <div id="donation_div"></div>

<script src="../../../../js/vdonate.js"></script>
<script>
var a = new Donate({
  title: 'å¦‚æœè§‰å¾—æˆ‘çš„æ–‡ç« å¯¹æ‚¨æœ‰ç”¨ï¼Œè¯·éšæ„æ‰“èµã€‚æ‚¨çš„æ”¯æŒå°†é¼“åŠ±æˆ‘ç»§ç»­åˆ›ä½œ!', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæ ‡é¢˜
  btnText: 'æ‰“èµæ”¯æŒ', // å¯é€‰å‚æ•°ï¼Œæ‰“èµæŒ‰é’®æ–‡å­—
  el: document.getElementById('donation_div'),
  wechatImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/WeChanQR.png',
  alipayImage: 'https://raw.githubusercontent.com/iTimeTraveler/iTimeTraveler.github.io/site/source/about/donate/images/AliPayQR.jpg'
});
</script>
      
      
        
	<div id="comment">
		<!-- æ¥å¿…åŠ›Cityç‰ˆå®‰è£…ä»£ç  -->
		<div id="lv-container" data-id="city" data-uid="MTAyMC8yOTQ4MS82MDQ5">
		<script type="text/javascript">
		   (function(d, s) {
		       var j, e = d.getElementsByTagName(s)[0];

		       if (typeof LivereTower === 'function') { return; }

		       j = d.createElement(s);
		       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
		       j.async = true;

		       e.parentNode.insertBefore(j, e);
		   })(document, 'script');
		</script>
		<noscript>ä¸ºæ­£å¸¸ä½¿ç”¨æ¥å¿…åŠ›è¯„è®ºåŠŸèƒ½è¯·æ¿€æ´»JavaScript</noscript>
		</div>
		<!-- Cityç‰ˆå®‰è£…ä»£ç å·²å®Œæˆ -->
	</div>



      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="../../../../tags/Neo4j/">Neo4j</a></li></ul>

    </footer>
  </div>
  
    
<nav id="article-nav">
  
    <a href="../../30/ã€Androidã€‘APKç˜¦èº«è®°ï¼Œå®ç°å°†è¿‘ä¸€åŠçš„å‹ç¼©æ•ˆæœ/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸Šä¸€ç¯‡</strong>
      <div class="article-nav-title">
        
          ã€Androidã€‘APKç˜¦èº«è®°ï¼Œå®ç°å°†è¿‘ä¸€åŠçš„å‹ç¼©æ•ˆæœ
        
      </div>
    </a>
  
  
    <a href="../../18/ã€D3.jsã€‘åŠ›å¯¼å‘å¸ƒå±€ + åœ†å½¢å›¾ç‰‡å±•ç¤ºçš„äººç‰©å…³ç³»/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">ä¸‹ä¸€ç¯‡</strong>
      <div class="article-nav-title">ã€D3.jsã€‘åŠ›å¯¼å‘å¸ƒå±€ + åœ†å½¢å›¾ç‰‡å±•ç¤ºçš„äººç‰©å…³ç³»</div>
    </a>
  
</nav>

  
</article>

<!-- Table of Contents -->

  <aside id="toc-sidebar">
    <div id="toc" class="toc-article">
    <strong class="toc-title">æ–‡ç« ç›®å½•</strong>
    
        <ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#å¯¼è¯»"><span class="nav-number">1.</span> <span class="nav-text">å¯¼è¯»</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#å¯¼å…¥åŸå§‹æ•°æ®åˆ°Neo4j"><span class="nav-number">2.</span> <span class="nav-text">å¯¼å…¥åŸå§‹æ•°æ®åˆ°Neo4j</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#äººç‰©ç½‘ç»œåˆ†æ"><span class="nav-number">3.</span> <span class="nav-text">äººç‰©ç½‘ç»œåˆ†æ</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#äººç‰©æ•°é‡"><span class="nav-number">3.1.</span> <span class="nav-text">äººç‰©æ•°é‡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ¦‚è¦ç»Ÿè®¡"><span class="nav-number">3.2.</span> <span class="nav-text">æ¦‚è¦ç»Ÿè®¡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å›¾ï¼ˆç½‘ç»œï¼‰çš„ç›´å¾„"><span class="nav-number">3.3.</span> <span class="nav-text">å›¾ï¼ˆç½‘ç»œï¼‰çš„ç›´å¾„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æœ€çŸ­è·¯å¾„"><span class="nav-number">3.4.</span> <span class="nav-text">æœ€çŸ­è·¯å¾„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#æ‰€æœ‰æœ€çŸ­è·¯å¾„"><span class="nav-number">3.5.</span> <span class="nav-text">æ‰€æœ‰æœ€çŸ­è·¯å¾„</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#å…³é”®èŠ‚ç‚¹"><span class="nav-number">3.6.</span> <span class="nav-text">å…³é”®èŠ‚ç‚¹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#èŠ‚ç‚¹ä¸­å¿ƒåº¦"><span class="nav-number">3.7.</span> <span class="nav-text">èŠ‚ç‚¹ä¸­å¿ƒåº¦</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åº¦ä¸­å¿ƒæ€§-Degree-Centrality"><span class="nav-number">3.8.</span> <span class="nav-text">åº¦ä¸­å¿ƒæ€§(Degree Centrality)</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#åŠ æƒåº¦ä¸­å¿ƒæ€§ï¼ˆWeighted-Degree-Centralityï¼‰"><span class="nav-number">3.9.</span> <span class="nav-text">åŠ æƒåº¦ä¸­å¿ƒæ€§ï¼ˆWeighted Degree Centralityï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»‹æ•°ä¸­å¿ƒæ€§ï¼ˆBetweenness-Centralityï¼‰"><span class="nav-number">3.10.</span> <span class="nav-text">ä»‹æ•°ä¸­å¿ƒæ€§ï¼ˆBetweenness Centralityï¼‰</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ç´§åº¦ä¸­å¿ƒæ€§ï¼ˆCloseness-centralityï¼‰"><span class="nav-number">3.11.</span> <span class="nav-text">ç´§åº¦ä¸­å¿ƒæ€§ï¼ˆCloseness centralityï¼‰</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#ä½¿ç”¨python-igraph"><span class="nav-number">4.</span> <span class="nav-text">ä½¿ç”¨python-igraph</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#ä»Neo4jæ„å»ºä¸€ä¸ªigraphå®ä¾‹"><span class="nav-number">4.1.</span> <span class="nav-text">ä»Neo4jæ„å»ºä¸€ä¸ªigraphå®ä¾‹</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#PageRank"><span class="nav-number">4.2.</span> <span class="nav-text">PageRank</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#è§’è‰²â€œå¤§åˆå½±â€"><span class="nav-number">4.3.</span> <span class="nav-text">è§’è‰²â€œå¤§åˆå½±â€</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Resources"><span class="nav-number">5.</span> <span class="nav-text">Resources</span></a></li></ol>
    
    </div>
  </aside>
</section>
        
      </div>
      
      <footer id="footer">
  

  <div class="container">
      	<div class="row">
	      <p> Powered by <a href="http://hexo.io/" target="_blank">Hexo</a> and <a href="https://github.com/iTimeTraveler/hexo-theme-hiker" target="_blank">Hexo-theme-hiker</a> </p>
	      <p id="copyRightEn">Copyright &copy; 2013 - 2018 iTimeTraveler All Rights Reserved.</p>
	      
	      
    		<p class="busuanzi_uv">
				è®¿å®¢æ•° : <span id="busuanzi_value_site_uv"></span> |  
				è®¿é—®é‡ : <span id="busuanzi_value_site_pv"></span>
		    </p>
  		   
		</div>

		
  </div>
</footer>


<!-- min height -->

<script>
    var wrapdiv = document.getElementById("wrap");
    var contentdiv = document.getElementById("content");
    var allheader = document.getElementById("allheader");

    wrapdiv.style.minHeight = document.body.offsetHeight + "px";
    if (allheader != null) {
      contentdiv.style.minHeight = document.body.offsetHeight - allheader.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    } else {
      contentdiv.style.minHeight = document.body.offsetHeight - document.getElementById("footer").offsetHeight + "px";
    }
</script>
    </div>
    <!-- <nav id="mobile-nav">
  
    <a href="../../../../index.html" class="mobile-nav-link">Home</a>
  
    <a href="../../../../archives" class="mobile-nav-link">Archives</a>
  
    <a href="../../../../categories" class="mobile-nav-link">Categories</a>
  
    <a href="../../../../tags" class="mobile-nav-link">Tags</a>
  
    <a href="../../../../funnysite" class="mobile-nav-link">é…·ç«™</a>
  
    <a href="../../../../collection" class="mobile-nav-link">æ”¶è—</a>
  
    <a href="../../../../about" class="mobile-nav-link">About</a>
  
    <a href="../../../../mybooks" class="mobile-nav-link">ğŸ</a>
  
</nav> -->
    

<!-- mathjax config similar to math.stackexchange -->

<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  <link rel="stylesheet" href="../../../../fancybox/jquery.fancybox.css">
  <script src="../../../../fancybox/jquery.fancybox.pack.js"></script>


<script src="../../../../js/scripts.js"></script>




  <script src="../../../../js/dialog.js"></script>








	<div style="display: none;">
    <script src="https://s95.cnzz.com/z_stat.php?id=1260716016&web_id=1260716016" language="JavaScript"></script>
  </div>



	<script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
	</script>






  </div>

  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="display: none;">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title" id="myModalLabel">è®¾ç½®</h2>
      </div>
      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">


      <div class="modal-body">
          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne" onclick="javascript:setFontSize();" aria-expanded="true" aria-controls="collapseOne">
              æ­£æ–‡å­—å·å¤§å°
            </a>
          </div>
          <div id="collapseOne" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingOne">
          <div class="panel-body">
            æ‚¨å·²è°ƒæ•´é¡µé¢å­—ä½“å¤§å°
          </div>
        </div>
      


          <div style="margin:6px;">
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseTwo" onclick="javascript:setBackground();" aria-expanded="true" aria-controls="collapseTwo">
              å¤œé—´æŠ¤çœ¼æ¨¡å¼
            </a>
        </div>
          <div id="collapseTwo" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingTwo">
          <div class="panel-body">
            å¤œé—´æ¨¡å¼å·²ç»å¼€å¯ï¼Œå†æ¬¡å•å‡»æŒ‰é’®å³å¯å…³é—­ 
          </div>
        </div>

        <div>
            <a data-toggle="collapse" data-parent="#accordion" href="#collapseThree" aria-expanded="true" aria-controls="collapseThree">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;å…³ äº&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</a>
        </div>
         <div id="collapseThree" class="panel-collapse collapse" role="tabpanel" aria-labelledby="headingThree">
          <div class="panel-body">
            iTimeTraveler
          </div>
          <div class="panel-body">
            Copyright Â© 2018 Mr.Seven All Rights Reserved.
          </div>
        </div>
      </div>


      <hr style="margin-top:0px; margin-bottom:0px; width:80%; border-top: 1px solid #000;">
      <hr style="margin-top:2px; margin-bottom:0px; width:80%; border-top: 3px solid #000;">
      <div class="modal-footer">
        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">Ã—</span></button>
      </div>
    </div>
  </div>
</div>
  
  <a id="rocket" href="#top" class=""></a>
  <script type="text/javascript" src="/js/totop.js?v=1.0.0" async=""></script>
  
    <a id="menu-switch"><i class="fa fa-bars fa-lg"></i></a>
  
</body>
</html>